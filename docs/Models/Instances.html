<!DOCTYPE html><html><head><title>Neogma Documentation | Instances</title><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"><meta name="robots" content="index,follow"><meta name="theme-color" content="#212121"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><link rel="shortcut icon" href="/neogma/favicon.ico"><link href="https://fonts.googleapis.com/css?family=Hind:400,700&amp;display=swap" rel="stylesheet"><link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:300,400&amp;display=swap" rel="stylesheet"><link href="https://fonts.googleapis.com/icon?family=Material+Icons%7CMaterial+Icons+Outlined&amp;display=swap" rel="stylesheet"><style>
      body, input, button {
        font-family: 'Hind', sans-serif;
      }

      code, .hljs {
        font-family: 'Source Code Pro', 'Courier New', Courier, monospace;
      }

      .icon-font {
        font-family: 'Material Icons';
        font-weight: normal;
        font-style: normal;
        font-size: 24px;  /* Preferred icon size */
        display: inline-block;
        line-height: 1;
        text-transform: none;
        letter-spacing: normal;
        word-wrap: normal;
        white-space: nowrap;
        direction: ltr;
      
        /* Support for all WebKit browsers. */
        -webkit-font-smoothing: antialiased;
        /* Support for Safari and Chrome. */
        text-rendering: optimizeLegibility;
      
        /* Support for Firefox. */
        -moz-osx-font-smoothing: grayscale;
      
        /* Support for IE. */
        font-feature-settings: 'liga';
      }

      .icon-font.outline {
        font-family: 'Material Icons Outlined';
      }
    </style><link href="/neogma/docs/assets/codedoc-styles.css" rel="stylesheet"><script async="" defer="" src="/neogma/docs/assets/codedoc-bundle.js"></script></head><body><div class="header-0-0-12"><script async="" defer="" src="https://buttons.github.io/buttons.js"></script><a class="github-button" data-color-scheme="no-preference: light; light: light; dark: dark;" data-icon="false" data-show-count="true" data-size="false" href="https://github.com/themetalfleece/neogma/">Star</a><br><br><a class="watermark-0-0-11" href="https://github.com/CONNECT-platform/codedoc" target="_blank">Created With<svg viewBox="0 0 536 296" version="1.1" xmlns="http://www.w3.org/2000/svg"><g id="codedoc" transform="translate(-244.000000, -364.000000)" fill-rule="nonzero"><path d="M580,532 C615.346224,532 644,560.653776 644,596 C644,631.346224 615.346224,660 580,660 C544.653776,660 516,631.346224 516,596 C516,560.653776 544.653776,532 580,532 Z M716,532 C751.346224,532 780,560.653776 780,596 C780,631.346224 751.346224,660 716,660 L692,660 C687.581722,660 684,656.418278 684,652 C684,647.581722 687.581722,644 692,644 L716,644 C742.509668,644 764,622.509668 764,596 C764,569.490332 742.509668,548 716,548 L692,548 C687.581722,548 684,544.418278 684,540 C684,535.581722 687.581722,532 692,532 L716,532 Z M468,532 C472.418278,532 476,535.581722 476,540 L476,652 C476,656.418278 472.418278,660 468,660 L444,660 C408.653776,660 380,631.346224 380,596 C380,560.653776 408.653776,532 444,532 L468,532 Z M332,532 C336.418278,532 340,535.581722 340,540 L340,652 C340,656.418278 336.418278,660 332,660 L252,660 C247.581722,660 244,656.418278 244,652 L244,540 C244,535.581722 247.581722,532 252,532 L332,532 Z M580,548 C553.490332,548 532,569.490332 532,596 C532,622.509668 553.490332,644 580,644 C606.509668,644 628,622.509668 628,596 C628,569.490332 606.509668,548 580,548 Z M461,548 L444,548 C417.490332,548 396,569.490332 396,596 C396,622.509668 417.490332,644 444,644 L461,644 L461,548 Z M444,364 C479.346224,364 508,392.653776 508,428 C508,463.346224 479.346224,492 444,492 C408.653776,492 380,463.346224 380,428 C380,392.653776 408.653776,364 444,364 Z M332,364 C336.418278,364 340,367.581722 340,372 C340,376.418278 336.418278,380 332,380 L308,380 C281.490332,380 260,401.490332 260,428 C260,454.509668 281.490332,476 308,476 L332,476 C336.418278,476 340,479.581722 340,484 C340,488.418278 336.418278,492 332,492 L308,492 C272.653776,492 244,463.346224 244,428 C244,392.653776 272.653776,364 308,364 L332,364 Z M580,364 C615.346224,364 644,392.653776 644,428 C644,463.346224 615.346224,492 580,492 L556,492 C551.581722,492 548,488.418278 548,484 L548,372 C548,367.581722 551.581722,364 556,364 L580,364 Z M772,364 C776.418278,364 780,367.581722 780,372 C780,376.418278 776.418278,380 772,380 L700,380 L700,420 L772,420 C776.418278,420 780,423.581722 780,428 C780,432.418278 776.418278,436 772,436 L700,436 L700,476 L772,476 C776.418278,476 780,479.581722 780,484 C780,488.418278 776.418278,492 772,492 L692,492 C687.581722,492 684,488.418278 684,484 L684,372 C684,367.581722 687.581722,364 692,364 L772,364 Z M444,380 C417.490332,380 396,401.490332 396,428 C396,454.509668 417.490332,476 444,476 C470.509668,476 492,454.509668 492,428 C492,401.490332 470.509668,380 444,380 Z M580,380 L563,380 L563,476 L580,476 C606.509668,476 628,454.509668 628,428 C628,401.490332 606.509668,380 580,380 Z"></path></g></svg></a></div><div id="-codedoc-container" class="container"><h1 id="instances" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Instances</h1><p>Each Instance of a Model represents a node in the database, with its label, properties etc. matching those in the Model definition.</p><p>Instances offer flexible access to a node's properties, as well as operations regarding it, such as updating/deleting the node itself and its relationships.</p><h2 id="creating-and-saving-an-instance" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Creating and saving an Instance</h2><p>An Instance is returned from various Model operations (such as <a href="./Creating-Nodes-and-Relationships">Create</a>, <a href="./Finding-Nodes-And-Relationships">Find</a>), or a new Instance (which doesn't yet exist in the database) can be created as follows:</p><pre class="with-bar"><code class="js -codedoc-code-snippet code-0-0-3" tabindex="0"><span class="wmbar-0-0-8"><span></span><span></span><span></span><span></span></span><div class="line-0-0-7  -codedoc-code-line" data-content="    /* --> creates an Instance of the Users model, which still doesn't exist in the database */" id="code1-l1"><span class="lineCounter-0-0-4 prim -codedoc-line-counter">1<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token comment">/* --&gt; creates an Instance of the Users model, which still doesn't exist in the database */</span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="    const user = Users.build({" id="code1-l2"><span class="lineCounter-0-0-4 -codedoc-line-counter">2<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token keyword">const</span> user <span class="token operator">=</span> Users<span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">{</span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="        id: '1'," id="code1-l3"><span class="lineCounter-0-0-4 -codedoc-line-counter">3<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>        <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">'1'</span><span class="token punctuation">,</span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="        name: 'John'," id="code1-l4"><span class="lineCounter-0-0-4 -codedoc-line-counter">4<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'John'</span><span class="token punctuation">,</span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="        age: 38," id="code1-l5"><span class="lineCounter-0-0-4 prim -codedoc-line-counter">5<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>        <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">38</span><span class="token punctuation">,</span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="    });" id="code1-l6"><span class="lineCounter-0-0-4 -codedoc-line-counter">6<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="" id="code1-l7"><span class="lineCounter-0-0-4 -codedoc-line-counter">7<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="    /* --> the Instance can be saved to the database. This will run a CREATE operation to create a node to match the Users Model configuration (label etc.) */" id="code1-l8"><span class="lineCounter-0-0-4 -codedoc-line-counter">8<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token comment">/* --&gt; the Instance can be saved to the database. This will run a CREATE operation to create a node to match the Users Model configuration (label etc.) */</span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="    await user.save({" id="code1-l9"><span class="lineCounter-0-0-4 -codedoc-line-counter">9<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token keyword">await</span> user<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">{</span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="        /* --> (optional, default true) validates that the properties of the Instance are valid, given the schema of the Model definition */" id="code1-l10"><span class="lineCounter-0-0-4 prim -codedoc-line-counter">10<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>        <span class="token comment">/* --&gt; (optional, default true) validates that the properties of the Instance are valid, given the schema of the Model definition */</span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="        validate: true," id="code1-l11"><span class="lineCounter-0-0-4 -codedoc-line-counter">11<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>        <span class="token literal-property property">validate</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="        /* --> (optional) an existing session or transaction to use */" id="code1-l12"><span class="lineCounter-0-0-4 -codedoc-line-counter">12<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>        <span class="token comment">/* --&gt; (optional) an existing session or transaction to use */</span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="        session: null," id="code1-l13"><span class="lineCounter-0-0-4 -codedoc-line-counter">13<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>        <span class="token literal-property property">session</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="    });" id="code1-l14"><span class="lineCounter-0-0-4 prim -codedoc-line-counter">14<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br></code></pre><h2 id="updating-an-instance" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Updating an Instance</h2><pre class="with-bar"><code class="js -codedoc-code-snippet code-0-0-3" tabindex="0"><span class="wmbar-0-0-8"><span></span><span></span><span></span><span></span></span><div class="line-0-0-7  -codedoc-code-line" data-content="    /* --> given a user Instance, like the one created above, we can change the properties of the Instance */" id="code2-l1"><span class="lineCounter-0-0-4 prim -codedoc-line-counter">1<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token comment">/* --&gt; given a user Instance, like the one created above, we can change the properties of the Instance */</span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="    user.name = 'Alex';" id="code2-l2"><span class="lineCounter-0-0-4 -codedoc-line-counter">2<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    user<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'Alex'</span><span class="token punctuation">;</span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="" id="code2-l3"><span class="lineCounter-0-0-4 -codedoc-line-counter">3<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="    /* --> we reflect this change to the database. Since the node already exists in the databse, neogma will automatically run a MATCH-SET operation to update just the name of this node */" id="code2-l4"><span class="lineCounter-0-0-4 -codedoc-line-counter">4<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token comment">/* --&gt; we reflect this change to the database. Since the node already exists in the databse, neogma will automatically run a MATCH-SET operation to update just the name of this node */</span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="    await user.save({" id="code2-l5"><span class="lineCounter-0-0-4 prim -codedoc-line-counter">5<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token keyword">await</span> user<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">{</span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="        validate: false," id="code2-l6"><span class="lineCounter-0-0-4 -codedoc-line-counter">6<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>        <span class="token literal-property property">validate</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="    });" id="code2-l7"><span class="lineCounter-0-0-4 prim -codedoc-line-counter">7<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br></code></pre><p>If nothing has changed, <code>.save()</code> will do nothing.</p><p><strong>WARNING</strong>: Updating a instance ignores its Association fields (as described below) meaning that related nodes will not be created and associated. Only the initial <code>save</code> (when an instance doesn't yet exist in the database) creates related nodes.</p><h2 id="accessing-the-instances-properties-and-methods" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Accessing the Instance's properties and methods</h2><pre class="with-bar"><code class="js -codedoc-code-snippet code-0-0-3" tabindex="0"><span class="wmbar-0-0-8"><span></span><span></span><span></span><span></span></span><div class="line-0-0-7  -codedoc-code-line" data-content="    /* --> the Instance's properties and methods are accessible by their key */" id="code3-l1"><span class="lineCounter-0-0-4 prim -codedoc-line-counter">1<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token comment">/* --&gt; the Instance's properties and methods are accessible by their key */</span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="    console.log(user.id, user.name, user.age); // &quot;1&quot; &quot;Alex&quot; 38" id="code3-l2"><span class="lineCounter-0-0-4 -codedoc-line-counter">2<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>id<span class="token punctuation">,</span> user<span class="token punctuation">.</span>name<span class="token punctuation">,</span> user<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// "1" "Alex" 38</span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="    /* --> all the instance properties can be taken as follows */" id="code3-l3"><span class="lineCounter-0-0-4 -codedoc-line-counter">3<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token comment">/* --&gt; all the instance properties can be taken as follows */</span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="    console.log(user.getDataValues()); // { id: &quot;1&quot;, name: &quot;Alex&quot;, age: 38 }" id="code3-l4"><span class="lineCounter-0-0-4 -codedoc-line-counter">4<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span><span class="token function">getDataValues</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// { id: "1", name: "Alex", age: 38 }</span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="    /* --> the methods, used in the Model definition can be used */" id="code3-l5"><span class="lineCounter-0-0-4 prim -codedoc-line-counter">5<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token comment">/* --&gt; the methods, used in the Model definition can be used */</span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="    console.log(user.bar()); // &quot;The name of this user is: Alex&quot;" id="code3-l6"><span class="lineCounter-0-0-4 prim -codedoc-line-counter">6<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span><span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// "The name of this user is: Alex"</span></div><br></code></pre><h2 id="validating-an-instance" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Validating an Instance</h2><pre class="with-bar"><code class="js -codedoc-code-snippet code-0-0-3" tabindex="0"><span class="wmbar-0-0-8"><span></span><span></span><span></span><span></span></span><div class="line-0-0-7  -codedoc-code-line" data-content="    user.age = 30;" id="code4-l1"><span class="lineCounter-0-0-4 prim -codedoc-line-counter">1<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    user<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">;</span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="    /* --> we can validate the properties of the Instance without saving it to the database. The properties of the Instance are valid, so this will not throw an error */" id="code4-l2"><span class="lineCounter-0-0-4 -codedoc-line-counter">2<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token comment">/* --&gt; we can validate the properties of the Instance without saving it to the database. The properties of the Instance are valid, so this will not throw an error */</span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="    await user.validate();" id="code4-l3"><span class="lineCounter-0-0-4 -codedoc-line-counter">3<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token keyword">await</span> user<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="" id="code4-l4"><span class="lineCounter-0-0-4 -codedoc-line-counter">4<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="    try {" id="code4-l5"><span class="lineCounter-0-0-4 prim -codedoc-line-counter">5<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token keyword">try</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="        user.age = -1;" id="code4-l6"><span class="lineCounter-0-0-4 -codedoc-line-counter">6<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>        user<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="        /* --> the properties of the Instance are invalid, so this will throw an error */" id="code4-l7"><span class="lineCounter-0-0-4 -codedoc-line-counter">7<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>        <span class="token comment">/* --&gt; the properties of the Instance are invalid, so this will throw an error */</span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="        await user.validate();" id="code4-l8"><span class="lineCounter-0-0-4 -codedoc-line-counter">8<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>        <span class="token keyword">await</span> user<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="    } catch(err) { " id="code4-l9"><span class="lineCounter-0-0-4 -codedoc-line-counter">9<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token punctuation">}</span> <span class="token keyword">catch</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span> </div><br><div class="line-0-0-7  -codedoc-code-line" data-content="        console.log(err); // NeogmaInstanceValidationError" id="code4-l10"><span class="lineCounter-0-0-4 prim -codedoc-line-counter">10<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// NeogmaInstanceValidationError</span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="    }" id="code4-l11"><span class="lineCounter-0-0-4 prim -codedoc-line-counter">11<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token punctuation">}</span></div><br></code></pre><h2 id="creating-related-nodes" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Creating related nodes</h2><pre class="with-bar"><code class="js -codedoc-code-snippet code-0-0-3" tabindex="0"><span class="wmbar-0-0-8"><span></span><span></span><span></span><span></span></span><div class="line-0-0-7  -codedoc-code-line" data-content="    /* --> by using the Related Nodes aliases specified in the Model definition, related nodes can also be created */" id="code5-l1"><span class="lineCounter-0-0-4 prim -codedoc-line-counter">1<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token comment">/* --&gt; by using the Related Nodes aliases specified in the Model definition, related nodes can also be created */</span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="    const userWithOrder = Users.build({" id="code5-l2"><span class="lineCounter-0-0-4 -codedoc-line-counter">2<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token keyword">const</span> userWithOrder <span class="token operator">=</span> Users<span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">{</span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="        id: '2'," id="code5-l3"><span class="lineCounter-0-0-4 -codedoc-line-counter">3<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>        <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">'2'</span><span class="token punctuation">,</span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="        name: 'Alex'," id="code5-l4"><span class="lineCounter-0-0-4 -codedoc-line-counter">4<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Alex'</span><span class="token punctuation">,</span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="        /* --> the 'Orders' alias will be used, as defined in the 'Users' model */" id="code5-l5"><span class="lineCounter-0-0-4 prim -codedoc-line-counter">5<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>        <span class="token comment">/* --&gt; the 'Orders' alias will be used, as defined in the 'Users' model */</span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="        Orders: {" id="code5-l6"><span class="lineCounter-0-0-4 -codedoc-line-counter">6<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>        <span class="token literal-property property">Orders</span><span class="token operator">:</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="            /* --> (optional) create new nodes and associate with them */" id="code5-l7"><span class="lineCounter-0-0-4 -codedoc-line-counter">7<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>            <span class="token comment">/* --&gt; (optional) create new nodes and associate with them */</span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="            properties: [{" id="code5-l8"><span class="lineCounter-0-0-4 -codedoc-line-counter">8<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>            <span class="token literal-property property">properties</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="                /* --> a new Order node will be created with the following properties, and a relationship with the configuration of alias 'Orders' will be created (direction: out, name: CREATES) */" id="code5-l9"><span class="lineCounter-0-0-4 -codedoc-line-counter">9<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>                <span class="token comment">/* --&gt; a new Order node will be created with the following properties, and a relationship with the configuration of alias 'Orders' will be created (direction: out, name: CREATES) */</span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="                id: '3'" id="code5-l10"><span class="lineCounter-0-0-4 prim -codedoc-line-counter">10<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>                <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">'3'</span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="            }]," id="code5-l11"><span class="lineCounter-0-0-4 -codedoc-line-counter">11<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>            <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="        }" id="code5-l12"><span class="lineCounter-0-0-4 -codedoc-line-counter">12<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>        <span class="token punctuation">}</span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="    });" id="code5-l13"><span class="lineCounter-0-0-4 -codedoc-line-counter">13<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="    /* --> when calling the following method, the User node, the Order node and the relationship between them */" id="code5-l14"><span class="lineCounter-0-0-4 -codedoc-line-counter">14<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token comment">/* --&gt; when calling the following method, the User node, the Order node and the relationship between them */</span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="    await userWithOrder.save();" id="code5-l15"><span class="lineCounter-0-0-4 prim -codedoc-line-counter">15<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token keyword">await</span> userWithOrder<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br></code></pre><p>For more examples of creating realted nodes, refer to the <a href="./Creating-Nodes-and-Relationships">Create operations</a>, as the same interface is used.</p><h2 id="creating-an-instance-for-an-existing-node" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Creating an Instance for an existing Node</h2><p>If a Node already exists in the database, an Instance can still be created. This is useful for running methods like <code>.save()</code> on it.</p><h3 id="creating-an-instance-for-an-existing-node-using-buildfromrecord" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Creating an Instance for an existing Node using buildFromRecord</h3><p>When a record is available (i.e. from a QueryResult), an Instance can be built using it directly in the <code>buildFromRecord</code> static.</p><p>This is the easiest and best way to build an Instance from an existing node, as its <code>labels</code> field is properly set.</p><p>This static is used internally in Neogma for this purpose. </p><pre class="with-bar"><code class="js -codedoc-code-snippet code-0-0-3" tabindex="0"><span class="wmbar-0-0-8"><span></span><span></span><span></span><span></span></span><div class="line-0-0-7  -codedoc-code-line" data-content="const result = await new QueryBuilder() // @see [QueryBuilder](../QueryBuilder/Overview)" id="code6-l1"><span class="lineCounter-0-0-4 prim -codedoc-line-counter">1<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span><span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">new</span> <span class="token class-name">QueryBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// @see [QueryBuilder](../QueryBuilder/Overview)</span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="    .match({" id="code6-l2"><span class="lineCounter-0-0-4 -codedoc-line-counter">2<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token punctuation">{</span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="        model: Users," id="code6-l3"><span class="lineCounter-0-0-4 -codedoc-line-counter">3<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>        <span class="token literal-property property">model</span><span class="token operator">:</span> Users<span class="token punctuation">,</span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="        where: {" id="code6-l4"><span class="lineCounter-0-0-4 -codedoc-line-counter">4<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>        <span class="token literal-property property">where</span><span class="token operator">:</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="            id: '1'" id="code6-l5"><span class="lineCounter-0-0-4 prim -codedoc-line-counter">5<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>            <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">'1'</span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="        }," id="code6-l6"><span class="lineCounter-0-0-4 -codedoc-line-counter">6<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>        <span class="token punctuation">}</span><span class="token punctuation">,</span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="        identifier: 'u'" id="code6-l7"><span class="lineCounter-0-0-4 -codedoc-line-counter">7<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>        <span class="token literal-property property">identifier</span><span class="token operator">:</span> <span class="token string">'u'</span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="    })" id="code6-l8"><span class="lineCounter-0-0-4 -codedoc-line-counter">8<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token punctuation">}</span><span class="token punctuation">)</span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="    .return ('u')" id="code6-l9"><span class="lineCounter-0-0-4 -codedoc-line-counter">9<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token punctuation">.</span><span class="token function">return</span> <span class="token punctuation">(</span><span class="token string">'u'</span><span class="token punctuation">)</span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="    .run();" id="code6-l10"><span class="lineCounter-0-0-4 prim -codedoc-line-counter">10<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="" id="code6-l11"><span class="lineCounter-0-0-4 -codedoc-line-counter">11<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="const userRecord = result.records[0]?.get('u');" id="code6-l12"><span class="lineCounter-0-0-4 -codedoc-line-counter">12<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span><span class="token keyword">const</span> userRecord <span class="token operator">=</span> result<span class="token punctuation">.</span>records<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">?.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'u'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="if (!userRecord) {" id="code6-l13"><span class="lineCounter-0-0-4 -codedoc-line-counter">13<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>userRecord<span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="    throw new Error('user not found');" id="code6-l14"><span class="lineCounter-0-0-4 -codedoc-line-counter">14<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'user not found'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="}" id="code6-l15"><span class="lineCounter-0-0-4 prim -codedoc-line-counter">15<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span><span class="token punctuation">}</span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="" id="code6-l16"><span class="lineCounter-0-0-4 -codedoc-line-counter">16<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="const userInstance = Users.buildFromRecord(userRecord);" id="code6-l17"><span class="lineCounter-0-0-4 -codedoc-line-counter">17<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span><span class="token keyword">const</span> userInstance <span class="token operator">=</span> Users<span class="token punctuation">.</span><span class="token function">buildFromRecord</span><span class="token punctuation">(</span>userRecord<span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="" id="code6-l18"><span class="lineCounter-0-0-4 -codedoc-line-counter">18<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="console.log(userInstance.labels); // [&quot;User&quot;]" id="code6-l19"><span class="lineCounter-0-0-4 -codedoc-line-counter">19<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>userInstance<span class="token punctuation">.</span>labels<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ["User"]</span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="" id="code6-l20"><span class="lineCounter-0-0-4 prim -codedoc-line-counter">20<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="userInstance.name = 'Some new name';" id="code6-l21"><span class="lineCounter-0-0-4 -codedoc-line-counter">21<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>userInstance<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'Some new name'</span><span class="token punctuation">;</span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="" id="code6-l22"><span class="lineCounter-0-0-4 -codedoc-line-counter">22<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="await userInstance.save(); /* --> the instance will be updated */" id="code6-l23"><span class="lineCounter-0-0-4 prim -codedoc-line-counter">23<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span><span class="token keyword">await</span> userInstance<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">/* --&gt; the instance will be updated */</span></div><br></code></pre><h3 id="creating-an-instance-for-an-existing-node-using-build" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Creating an Instance for an existing Node using build</h3><p>Another way is to use the <code>build</code> static. It's not recommended as the <code>labels</code> property is not set.</p><p>The first parameter of the <code>build</code> function must equal to the data of the Node, for example from the statement result.</p><p>The second parameter is an object with its <code>status</code> property set to <code>existing</code>.</p><pre class="with-bar"><code class="js -codedoc-code-snippet code-0-0-3" tabindex="0"><span class="wmbar-0-0-8"><span></span><span></span><span></span><span></span></span><div class="line-0-0-7  -codedoc-code-line" data-content="const result = await new QueryBuilder() // @see [QueryBuilder](../QueryBuilder/Overview)" id="code7-l1"><span class="lineCounter-0-0-4 prim -codedoc-line-counter">1<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span><span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">new</span> <span class="token class-name">QueryBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// @see [QueryBuilder](../QueryBuilder/Overview)</span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="    .match({" id="code7-l2"><span class="lineCounter-0-0-4 -codedoc-line-counter">2<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token punctuation">{</span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="        model: Users," id="code7-l3"><span class="lineCounter-0-0-4 -codedoc-line-counter">3<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>        <span class="token literal-property property">model</span><span class="token operator">:</span> Users<span class="token punctuation">,</span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="        where: {" id="code7-l4"><span class="lineCounter-0-0-4 -codedoc-line-counter">4<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>        <span class="token literal-property property">where</span><span class="token operator">:</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="            id: '1'" id="code7-l5"><span class="lineCounter-0-0-4 prim -codedoc-line-counter">5<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>            <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">'1'</span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="        }," id="code7-l6"><span class="lineCounter-0-0-4 -codedoc-line-counter">6<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>        <span class="token punctuation">}</span><span class="token punctuation">,</span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="        identifier: 'u'" id="code7-l7"><span class="lineCounter-0-0-4 -codedoc-line-counter">7<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>        <span class="token literal-property property">identifier</span><span class="token operator">:</span> <span class="token string">'u'</span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="    })" id="code7-l8"><span class="lineCounter-0-0-4 -codedoc-line-counter">8<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token punctuation">}</span><span class="token punctuation">)</span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="    .return ('u')" id="code7-l9"><span class="lineCounter-0-0-4 -codedoc-line-counter">9<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token punctuation">.</span><span class="token function">return</span> <span class="token punctuation">(</span><span class="token string">'u'</span><span class="token punctuation">)</span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="    .run();" id="code7-l10"><span class="lineCounter-0-0-4 prim -codedoc-line-counter">10<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="" id="code7-l11"><span class="lineCounter-0-0-4 -codedoc-line-counter">11<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="const userData = result.records[0]?.get('u')?.properties;" id="code7-l12"><span class="lineCounter-0-0-4 -codedoc-line-counter">12<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span><span class="token keyword">const</span> userData <span class="token operator">=</span> result<span class="token punctuation">.</span>records<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">?.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'u'</span><span class="token punctuation">)</span><span class="token operator">?.</span>properties<span class="token punctuation">;</span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="if (!userData) {" id="code7-l13"><span class="lineCounter-0-0-4 -codedoc-line-counter">13<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>userData<span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="    throw new Error('user not found');" id="code7-l14"><span class="lineCounter-0-0-4 -codedoc-line-counter">14<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'user not found'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="}" id="code7-l15"><span class="lineCounter-0-0-4 prim -codedoc-line-counter">15<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span><span class="token punctuation">}</span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="" id="code7-l16"><span class="lineCounter-0-0-4 -codedoc-line-counter">16<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="const userInstance = Users.build(userData, { status: 'existing' });" id="code7-l17"><span class="lineCounter-0-0-4 -codedoc-line-counter">17<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span><span class="token keyword">const</span> userInstance <span class="token operator">=</span> Users<span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>userData<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">status</span><span class="token operator">:</span> <span class="token string">'existing'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="" id="code7-l18"><span class="lineCounter-0-0-4 -codedoc-line-counter">18<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="userInstance.name = 'Some new name';" id="code7-l19"><span class="lineCounter-0-0-4 -codedoc-line-counter">19<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>userInstance<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'Some new name'</span><span class="token punctuation">;</span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="" id="code7-l20"><span class="lineCounter-0-0-4 prim -codedoc-line-counter">20<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="await userInstance.save(); /* --> the instance will be updated */" id="code7-l21"><span class="lineCounter-0-0-4 prim -codedoc-line-counter">21<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span><span class="token keyword">await</span> userInstance<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">/* --&gt; the instance will be updated */</span></div><br></code></pre><h2 id="instance-attributes" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Instance attributes</h2><p>The labels of the Instance can be taken from the <code>labels</code> attribute. It's properly set when the Instance is built internally (i.e. in the <code>findMany</code>, <code>update</code>, <code>updateRelationship</code> statics), or when building an Instance using the <a href="#creating-an-instance-for-an-existing-node-using-buildfromrecord">buildFromRecord</a> static.</p><pre class="with-bar"><code class="js -codedoc-code-snippet code-0-0-3" tabindex="0"><span class="wmbar-0-0-8"><span></span><span></span><span></span><span></span></span><div class="line-0-0-7  -codedoc-code-line" data-content="/* --> let &quot;user&quot; be a Users instance */" id="code8-l1"><span class="lineCounter-0-0-4 prim -codedoc-line-counter">1<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span><span class="token comment">/* --&gt; let "user" be a Users instance */</span></div><br><div class="line-0-0-7  -codedoc-code-line" data-content="console.log(user.labels); // [&quot;User&quot;]" id="code8-l2"><span class="lineCounter-0-0-4 prim -codedoc-line-counter">2<span class="-codedoc-line-link"><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span></span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>labels<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ["User"]</span></div><br></code></pre><h2 id="more-instance-methods" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>More Instance methods</h2><p>More Instance methods are found at the corresponding documentation, i.e. <a href="./Creating-Nodes-and-Relationships">Creating Nodes and Relationships</a></p><script id="uLGISoNPCR">(function(){function load(){if (window.__sdh_transport){window.__sdh_transport("uLGISoNPCR", "AsY3Cz3g0O4EhZ4OzvMrWQ==", {});} }; if (document.readyState == 'complete') load(); else window.addEventListener('load', load); window.setImmediate = window.setImmediate || function(f){setTimeout(f, 0)}; })()</script><div class="contentnav-0-0-17" data-no-search=""><a href="#instances" class="h1" data-content-highlight="instances">Instances</a><a href="#creating-and-saving-an-instance" class="h2" data-content-highlight="creating-and-saving-an-instance">Creating and saving an Instance</a><a href="#updating-an-instance" class="h2" data-content-highlight="updating-an-instance">Updating an Instance</a><a href="#accessing-the-instances-properties-and-methods" class="h2" data-content-highlight="accessing-the-instances-properties-and-methods">Accessing the Instance's properties and methods</a><a href="#validating-an-instance" class="h2" data-content-highlight="validating-an-instance">Validating an Instance</a><a href="#creating-related-nodes" class="h2" data-content-highlight="creating-related-nodes">Creating related nodes</a><a href="#creating-an-instance-for-an-existing-node" class="h2" data-content-highlight="creating-an-instance-for-an-existing-node">Creating an Instance for an existing Node</a><a href="#creating-an-instance-for-an-existing-node-using-buildfromrecord" class="h3" data-content-highlight="creating-an-instance-for-an-existing-node-using-buildfromrecord">Creating an Instance for an existing Node using buildFromRecord</a><a href="#creating-an-instance-for-an-existing-node-using-build" class="h3" data-content-highlight="creating-an-instance-for-an-existing-node-using-build">Creating an Instance for an existing Node using build</a><a href="#instance-attributes" class="h2" data-content-highlight="instance-attributes">Instance attributes</a><a href="#more-instance-methods" class="h2" data-content-highlight="more-instance-methods">More Instance methods</a></div></div><div id="-codedoc-toc" class="toc-0-0-14"><script>
     if (window.matchMedia('(min-width: 1200px)').matches) {
       if (!localStorage.getItem('-codedoc-toc-active')) {
         localStorage.setItem('-codedoc-toc-active', "true");
       }
     }
     </script><div class="content-0-0-15"><p><a href="/neogma/">Introduction</a>
<a href="/neogma/docs/Getting-Started">Getting Started</a></p><div class="collapse-0-0-10 "><script id="KEFQZtFluE">(function(){function load(){if (window.__sdh_transport){window.__sdh_transport("KEFQZtFluE", "KX5ZK67OHCU+/01r/gHlLQ==", {});} }; if (document.readyState == 'complete') load(); else window.addEventListener('load', load); window.setImmediate = window.setImmediate || function(f){setTimeout(f, 0)}; })()</script><div class="label" onclick="this.parentElement.classList.toggle('open')"><span class="text">Models</span><span class="icon-font closed">chevron_right</span></div><div class="content"><p><a href="/neogma/docs/Models/Overview">Overview</a>
<a href="/neogma/docs/Models/Defining-a-Model">Defining a Model</a>
<a href="/neogma/docs/Models/Instances">Instances</a>
<a href="/neogma/docs/Models/Creating-Nodes-and-Relationships">Creating Nodes and Relationships</a>
<a href="/neogma/docs/Models/Merging-Nodes-and-Relationships">Merging Nodes and Relationships</a>
<a href="/neogma/docs/Models/Updating-Nodes-and-Relationships">Updating Nodes and Relationships</a>
<a href="/neogma/docs/Models/Deleting-Nodes">Deleting Nodes</a>
<a href="/neogma/docs/Models/Deleting-Relationships">Deleting Relationships</a>
<a href="/neogma/docs/Models/Finding-Nodes-And-Relationships">Finding Nodes and Relationships</a>
<a href="/neogma/docs/Models/Hooks">Hooks</a>
<a href="/neogma/docs/Temporary-Databases">Temporary Databases</a></p></div></div><p><a href="/neogma/docs/Sessions-and-Transactions">Sessions and Transactions</a></p><div class="collapse-0-0-10 "><script id="gdzRyiCGSs">(function(){function load(){if (window.__sdh_transport){window.__sdh_transport("gdzRyiCGSs", "KX5ZK67OHCU+/01r/gHlLQ==", {});} }; if (document.readyState == 'complete') load(); else window.addEventListener('load', load); window.setImmediate = window.setImmediate || function(f){setTimeout(f, 0)}; })()</script><div class="label" onclick="this.parentElement.classList.toggle('open')"><span class="text">Query Builder</span><span class="icon-font closed">chevron_right</span></div><div class="content"><p><a href="/neogma/docs/QueryBuilder/Overview">Overview</a>
<a href="/neogma/docs/QueryBuilder/Clauses">Clauses</a>
<a href="/neogma/docs/QueryBuilder/Match-Clause">Match Clause</a>
<a href="/neogma/docs/QueryBuilder/Create-Clause">Create Clause</a>
<a href="/neogma/docs/QueryBuilder/Set-Clause">Set Clause</a>
<a href="/neogma/docs/QueryBuilder/Delete-Clause">Delete Clause</a>
<a href="/neogma/docs/QueryBuilder/Where-Clause">Where Clause</a>
<a href="/neogma/docs/QueryBuilder/Remove-Clause">Remove Clause</a>
<a href="/neogma/docs/QueryBuilder/Order-By-Clause">Order By Clause</a>
<a href="/neogma/docs/QueryBuilder/Return-Clause">Return Clause</a>
<a href="/neogma/docs/QueryBuilder/Limit-Skip-Clause">Limit/Skip Clause</a>
<a href="/neogma/docs/QueryBuilder/With-Clause">With Clause</a>
<a href="/neogma/docs/QueryBuilder/Unwind-Clause">Unwind Clause</a>
<a href="/neogma/docs/QueryBuilder/Helpers">Helpers</a></p></div></div><div class="collapse-0-0-10 "><script id="GVEkKuYmCa">(function(){function load(){if (window.__sdh_transport){window.__sdh_transport("GVEkKuYmCa", "KX5ZK67OHCU+/01r/gHlLQ==", {});} }; if (document.readyState == 'complete') load(); else window.addEventListener('load', load); window.setImmediate = window.setImmediate || function(f){setTimeout(f, 0)}; })()</script><div class="label" onclick="this.parentElement.classList.toggle('open')"><span class="text">Query Runner</span><span class="icon-font closed">chevron_right</span></div><div class="content"><p><a href="/neogma/docs/QueryRunner/Overview">Overview</a>
<a href="/neogma/docs/QueryRunner/Running-Arbitrary-Queries">Running Arbitrary Queries</a>
<a href="/neogma/docs/QueryRunner/Creating-Nodes">Creating Nodes</a>
<a href="/neogma/docs/QueryRunner/Updating-Nodes">Updating Nodes</a>
<a href="/neogma/docs/QueryRunner/Deleting-Nodes">Deleting Nodes</a>
<a href="/neogma/docs/QueryRunner/Creating-Relationships">Creating Relationships</a>
<a href="/neogma/docs/QueryRunner/Helpers">Helpers</a></p></div></div><p><a href="/neogma/docs/Bind-Parameters">Bind Parameters</a></p><p><a href="/neogma/docs/Where-Parameters">Where Parameters</a></p></div><div class="search-0-0-16"><script id="LwFPKSgChf">(function(){function load(){if (window.__sdh_transport){window.__sdh_transport("LwFPKSgChf", "P326USDq1PcQ0EFNW+ygZA==", {"repo":"neogma","user":"themetalfleece","root":"./md","pick":"\\.md$","drop":"(^_)|(\\/_)"});} }; if (document.readyState == 'complete') load(); else window.addEventListener('load', load); window.setImmediate = window.setImmediate || function(f){setTimeout(f, 0)}; })()</script></div></div><div class="footer-0-0-13"><div class="left"><script id="StRBhtDhEX">(function(){function load(){if (window.__sdh_transport){window.__sdh_transport("StRBhtDhEX", "uEyFByOUMxM0e17JubQPxA==", {});} }; if (document.readyState == 'complete') load(); else window.addEventListener('load', load); window.setImmediate = window.setImmediate || function(f){setTimeout(f, 0)}; })()</script></div><div class="main"><div class="inside"><a href="https://github.com/themetalfleece/neogma/" target="_blank">GitHub</a></div></div><div class="right"><script id="_zgbVQMpBv">(function(){function load(){if (window.__sdh_transport){window.__sdh_transport("_zgbVQMpBv", "YYrmLrayDkYmTa1Ak0jt2w==", {});} }; if (document.readyState == 'complete') load(); else window.addEventListener('load', load); window.setImmediate = window.setImmediate || function(f){setTimeout(f, 0)}; })()</script></div></div><script id="HhzPoBoYch">(function(){function load(){if (window.__sdh_transport){window.__sdh_transport("HhzPoBoYch", "lccoUbeCvlKlHHNP78vUCg==", {"namespace":"/neogma"});} }; if (document.readyState == 'complete') load(); else window.addEventListener('load', load); window.setImmediate = window.setImmediate || function(f){setTimeout(f, 0)}; })()</script></body></html>